(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}function n(e,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t(s.key),s)}}function i(e,n,i){return(n=t(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var o=["title","base","link","meta","script","style"],r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=["noscript","iframe"],d=["address","article","aside","blockquote","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","ol","p","pre","section","ul"],l=["table","thead","tbody","tfoot","tr","td","th","col","colgroup","caption"],c=["form","a"],u={active:"a",hover:"b"},h=Object.keys(u),m=document.implementation.createHTMLDocument(""),f=function(e){var t=e.shadowRoot,n=Array.from(e.childNodes||[]);return t&&n.unshift(t),n},p=function(){function e(t){var n=this;for(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_nodeId",void 0),i(this,"_document",void 0),i(this,"_docType",void 0),i(this,"_insideHead",void 0),i(this,"_insideParagraph",void 0),i(this,"_insideMalformedSelect",void 0),i(this,"_insideDescriptionItem",void 0),i(this,"_insideButton",void 0),i(this,"_insideMalformedIODescendant",void 0),i(this,"_insideSVG",void 0),i(this,"_selectElmsMap",void 0),i(this,"_nestedElmsCounts",void 0),i(this,"_activeElement",void 0),i(this,"_elmsInPseudoState",void 0),i(this,"_elmsWithCORSError",void 0),i(this,"_runtimeStyleSheets",void 0),i(this,"_adoptedStyleSheets",void 0),this._nodeId=0,this._document=t,this._docType="",this._insideHead=!1,this._insideParagraph=!1,this._insideMalformedSelect=!1,this._insideDescriptionItem=!1,this._insideButton=!1,this._insideMalformedIODescendant=!1,this._insideSVG=!1,this._selectElmsMap=new Map,this._nestedElmsCounts={},c.forEach((function(e){n._nestedElmsCounts[e]=0})),this._activeElement=document.activeElement;null!==(s=this._activeElement)&&void 0!==s&&s.shadowRoot;){var s;this._activeElement=this._activeElement.shadowRoot.activeElement}this._elmsInPseudoState={},h.forEach((function(e){n._elmsInPseudoState[e]=[]})),this._elmsWithCORSError=[],this._runtimeStyleSheets=[],this._adoptedStyleSheets={sheets:[],dumps:[]},this._importElmsInPseudoState(this._document),this._document.removeChild(this._document.documentElement),this._document.appendChild(this._document.importNode(document.documentElement,!1)),this._processAdoptedStyleSheets(document,this._document.documentElement),f(document.documentElement).forEach((function(e){n._importNode(e,n._document.documentElement)})),this._selectElmsMap.forEach((function(e,t){for(var n=t.querySelectorAll("option"),i=t.querySelectorAll('option, un-es-replace[un-nodename="option"]'),s=n.length,o=0;o<s;o+=1){var r=n[o],a=i[o];r.selected?a.setAttribute("selected","selected"):a.removeAttribute("selected")}})),f(this._document.documentElement).forEach((function(e){var t=(e.nodeName||"").toLowerCase();if(t&&!t.startsWith("#")&&e!==n._document.head&&e!==n._document.body){var i,s=n._document.createComment("un-es-replace:".concat(encodeURIComponent(e.outerHTML)));null===(i=e.parentNode)||void 0===i||i.replaceChild(s,e)}}));for(var o=this._document.querySelectorAll("head > un-es-replace"),r=o.length-1;r>=0;r-=1){var a=o[r],d=this._document.createElement("script");d.setAttribute("type","text/un-es-replace"),d.innerHTML=encodeURIComponent(a.outerHTML),this._document.head.replaceChild(d,a)}for(var l=this._document.head?f(this._document.head):[],u=l.length-1;u>=0;u-=1)if("#text"===(l[u].nodeName||"")&&""!==(l[u].nodeValue||"").trim()){var m,p=this._document.createElement("script");p.setAttribute("type","text/un-es-replace"),p.innerHTML=encodeURIComponent(null!==(m=l[u].nodeValue)&&void 0!==m?m:""),this._document.head.replaceChild(p,l[u])}if(this._runtimeStyleSheets.length||this._adoptedStyleSheets.sheets.length){var _=this._document.createElement("script");_.setAttribute("id","FATRuntimeSheets"),_.setAttribute("class","FATScript"),_.setAttribute("type","text/runtime-sheets"),_.innerHTML=JSON.stringify({nodes:this._runtimeStyleSheets,adp:this._adoptedStyleSheets.dumps}),this._document.body.appendChild(_)}var v=document.doctype;null!=v&&v.name&&(this._docType="<!DOCTYPE ".concat(v.name).concat(v.publicId?' PUBLIC "'.concat(v.publicId,'"'):"").concat(!v.publicId&&v.systemId?" SYSTEM":"").concat(v.systemId?' "'.concat(v.systemId,'"'):"",">"))}return t=e,p=[{key:"html",get:function(){return this._docType+this._document.documentElement.outerHTML}},{key:"_importElmsInPseudoState",value:function(e){var t=this;h.forEach((function(n){var i=Array.from(e.querySelectorAll("*:".concat(n))||[]);i.length&&(t._elmsInPseudoState[n]=t._elmsInPseudoState[n].concat(i))}))}},{key:"_importNode",value:function(e,t){var n=this;if(e){var c=(e.nodeName||"").toLocaleLowerCase();if(c){var m=!this._insideHead,p=!this._insideParagraph,_=!this._insideMalformedSelect,v=!this._insideDescriptionItem,y=!this._insideButton,S=!this._insideMalformedIODescendant,b=!this._insideSVG,E=c,g=null,A=!1,O=null;if(e instanceof ShadowRoot)O=this._document.createElement("un-shadow-elm"),this._importElmsInPseudoState(e),this._processAdoptedStyleSheets(e,O);else if(e.nodeType===Node.TEXT_NODE){var T;O=this._document.createTextNode(null!==(T=e.nodeValue)&&void 0!==T?T:"")}else if(e.nodeType===Node.CDATA_SECTION_NODE){var C;O=(new DOMParser).parseFromString("<xml></xml>","application/xml").createCDATASection(null!==(C=e.nodeValue)&&void 0!==C?C:"")}else if(e.nodeType===Node.PROCESSING_INSTRUCTION_NODE){var M=e;O=this._document.createProcessingInstruction(M.target,M.data)}else if(e.nodeType===Node.COMMENT_NODE){var I,P,w=(t.nodeName||"").toLowerCase();if("un-es-replace"===w&&(w=null!==(P=t.getAttribute("un-nodename"))&&void 0!==P?P:""),"style"===w)return;O=this._document.createComment(null!==(I=e.nodeValue)&&void 0!==I?I:"")}else{var D,L=(t.nodeName||"").toLowerCase();if("un-es-replace"===L&&(L=null!==(D=t.getAttribute("un-nodename"))&&void 0!==D?D:""),(A=void 0!==this._nestedElmsCounts[c])&&(this._nestedElmsCounts[c]+=1,this._nestedElmsCounts[c]>1&&(g=c,c="un-es-replace")),"un-es-replace"!==c){var N=function(t){var n=[];try{n=Array.from(e.querySelectorAll(t))}catch(e){n=[]}return n},H=this._insideParagraph||this._insideButton;if("html"===c&&e!==document.documentElement||"head"===c&&(e!==document.head||4!==e.compareDocumentPosition(document.body))||"body"===c&&e!==document.body)g=c,c="un-es-replace";else if("script"===c||"style"===c)if(e.childNodes.length>1||N("*").length>0)g=c,c="un-es-replace";else if((e.textContent||"").includes("</".concat(c,">")))g=c,c="un-es-replace";else{var j,k=this._document.createElement("div");k.innerHTML=null!==(j=e.textContent)&&void 0!==j?j:"",(k.childNodes.length>1||k.querySelectorAll("*").length)&&(g=c,c="un-es-replace")}else"image"===c||this._insideHead&&!o.includes(c)||(a.includes(c)||r.includes(c))&&N("*").length>0?(g=c,c="un-es-replace"):this._insideMalformedSelect||"select"===c&&N("*:not(option):not(optgroup)").length>0?(g=c,c="un-es-replace",this._insideMalformedSelect=!0):this._insideMalformedIODescendant||H&&(d.includes(c)||l.includes(c))?(g=c,c="un-es-replace",this._insideMalformedIODescendant=!0):l.includes(c)||"li"===c&&"ul"!==L&&"ol"!==L?(g=c,c="un-es-replace"):!this._insideDescriptionItem||"dd"!==c&&"dt"!==c?this._insideButton&&"button"===c||e instanceof HTMLTemplateElement?(g=c,c="un-es-replace"):!this._insideSVG||e instanceof SVGElement||(g=c,c="un-es-replace"):(g=c,c="un-es-replace")}e===document.head?this._insideHead=!0:"p"===c?this._insideParagraph=!0:"dd"===c||"dt"===c?this._insideDescriptionItem=!0:"dl"===c?this._insideDescriptionItem=!1:"button"===c?this._insideButton=!0:"svg"===c&&(this._insideSVG=!0);try{O=this._document.createElement(c),g&&(E=g)}catch(e){try{var R=this._document.createElement("div");R.innerHTML="<".concat(c,"></").concat(c,">"),R.firstChild&&(O=R.firstChild)}catch(e){O=null}}if(null!==O&&O instanceof Element){g&&O.setAttribute("un-nodename",E),e===document.head&&"un-es-replace"===c&&O.setAttribute("un-is-head","true");for(var x=Array.from(e.attributes),V=x.length,B=0;B<V;B+=1){var G=x[B];try{O.setAttribute(G.name,G.value)}catch(e){}}if((e instanceof HTMLMediaElement||e instanceof HTMLImageElement)&&e.currentSrc)O.setAttribute("un-curr-src",e.currentSrc);else if(e instanceof HTMLIFrameElement&&!e.getAttribute("un-framename"))O.setAttribute("un-framename","");else if(e instanceof HTMLDialogElement&&e.getAttribute("un-show-modal"))O.removeAttribute("open");else if(e instanceof HTMLInputElement)"radio"===e.type||"checkbox"===e.type?e.checked?O.setAttribute("checked","checked"):O.removeAttribute("checked"):O.setAttribute("value",e.value);else if(e instanceof HTMLTextAreaElement)O.innerHTML=e.value;else if(e instanceof HTMLSelectElement)this._selectElmsMap.set(e,O);else if(e instanceof HTMLCanvasElement)try{var U=e.toDataURL();O.setAttribute("un-data-url",U)}catch(e){}e===this._activeElement&&O.setAttribute("un-active-elm","true");var q=[];h.forEach((function(t){n._elmsInPseudoState[t].includes(e)&&q.push(u[t])})),q.length&&O.setAttribute("un-pseudos",q.join("")),this._elmsWithCORSError.includes(e)&&O.setAttribute("un-cors-error","true");var F=e instanceof Element?e.getAnimations():[];if(F.length){var W=[];if(F.forEach((function(e){if(!(e instanceof CSSAnimation)){var t=[];try{t=e.effect.getKeyframes()}catch(e){t=[]}t.forEach((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);delete t.offset,delete t.computedOffset,delete t.easing,delete t.composite,void 0!==t.cssFloat&&(t.float=t.cssFloat,delete t.cssFloat),void 0!==t.cssOffset&&(t.offset=t.cssOffset,delete t.cssOffset),Object.keys(t).forEach((function(e){W.includes(e)||W.push(e)}))}))}})),W.length){var J=window.getComputedStyle(e),Y={};W.forEach((function(e){var t=e;void 0!==J[t]&&(Y[e]=J[t])})),O.setAttribute("un-js-animation",JSON.stringify(Y))}}}}if(O){t.appendChild(O);var K=!1;if(("link"===E||"style"===E)&&O instanceof Element){var Q,X=e,z=X.disabled,Z=!(null===(Q=X.sheet)||void 0===Q||!Q.disabled),$="true"===X.getAttribute("un-runtimestyles");if(z||Z)(z||Z)&&(O.setAttribute("un-disabled","".concat(z?1:0,",").concat(Z?1:0)),O.removeAttribute("disabled"));else if($){var ee=this._dumpCSSRules(X.sheet);"style"===E?(O.innerHTML=ee.rules.join("\n"),K=!0):(O.setAttribute("un-runtimeindex","".concat(this._runtimeStyleSheets.length)),this._runtimeStyleSheets.push(ee))}O.removeAttribute("un-runtimestyles")}if(!K)for(var te=f(e),ne=te.length,ie=0;ie<ne;ie+=1){var se=te[ie];this._importNode(se,O)}m&&this._insideHead?this._insideHead=!1:A?this._nestedElmsCounts[E]-=1:_&&this._insideMalformedSelect?this._insideMalformedSelect=!1:S&&this._insideMalformedIODescendant?this._insideMalformedIODescendant=!1:p&&this._insideParagraph?this._insideParagraph=!1:v&&this._insideDescriptionItem?this._insideDescriptionItem=!1:y&&this._insideButton?this._insideButton=!1:b&&this._insideSVG&&(this._insideSVG=!1)}}}}},{key:"_dumpCSSRules",value:function(e){var t={rules:[],baseURL:null};if(!e)return t;var n,i=e.ownerNode,s=[];try{s=Array.from(e.cssRules||[])}catch(e){if(!(e instanceof Error&&"SecurityError"===e.name))throw e;i instanceof Element&&this._elmsWithCORSError.push(i),s=[]}return i?i instanceof HTMLLinkElement&&(t.baseURL=i.href):(t.disabled=e.disabled,null!==(n=t.media)&&void 0!==n&&n.length&&(t.media=e.media.mediaText)),s.forEach((function(e){var n=e.cssText;n&&t.rules.push(n)})),t}},{key:"_processAdoptedStyleSheets",value:function(e,t){var n=this,i=Array.from(e.adoptedStyleSheets),s=[];i.forEach((function(e){if(n._adoptedStyleSheets.sheets.includes(e))s.push(n._adoptedStyleSheets.sheets.indexOf(e));else{var t=n._dumpCSSRules(e);s.push(n._adoptedStyleSheets.sheets.length),n._adoptedStyleSheets.sheets.push(e),n._adoptedStyleSheets.dumps.push(t)}})),s.length&&t.setAttribute("un-adp",s.join(","))}}],_=[{key:"run",value:function(){return m.open(),m.close(),new e(m).html}}],p&&n(t.prototype,p),_&&n(t,_),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,p,_}();window._AQAExt_={Snapshotter:p}})();
//# sourceMappingURL=snapshotter.bundle.js.map