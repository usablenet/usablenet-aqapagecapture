(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}function n(e,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}var i=["title","base","link","meta","script","style"],o=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],s=["noscript","iframe"],r=["address","article","aside","blockquote","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","ol","p","pre","section","ul"],a=["table","thead","tbody","tfoot","tr","td","th","col","colgroup","caption"],c=["form","a"],l={active:"a",hover:"b"},d=Object.keys(l),u=document.implementation.createHTMLDocument(""),m=function(e){var t=e.shadowRoot,n=Array.from(e.childNodes||[]);return t&&n.unshift(t),n},h=function(){function e(t){var n=this;for(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nodeId=0,this._document=t,this._docType="",this._insideHead=!1,this._insideParagraph=!1,this._insideMalformedSelect=!1,this._insideDescriptionItem=!1,this._insideButton=!1,this._insideMalformedIODescendant=!1,this._insideSVG=!1,this._selectElmsMap=new Map,this._nestedElmsCounts={},c.forEach((function(e){n._nestedElmsCounts[e]=0})),this._activeElement=document.activeElement;null!==(i=this._activeElement)&&void 0!==i&&i.shadowRoot;){var i;this._activeElement=this._activeElement.shadowRoot.activeElement}this._elmsInPseudoState={},d.forEach((function(e){n._elmsInPseudoState[e]=[]})),this._importElmsInPseudoState(this._document),this._document.removeChild(this._document.documentElement),this._document.appendChild(this._document.importNode(document.documentElement,!1)),m(document.documentElement).forEach((function(e){n._importNode(e,n._document.documentElement)})),this._selectElmsMap.forEach((function(e,t){for(var n=t.querySelectorAll("option"),i=t.querySelectorAll('option, un-es-replace[un-nodename="option"]'),o=n.length,s=0;s<o;s+=1){var r=n[s],a=i[s];r.selected?a.setAttribute("selected","selected"):a.removeAttribute("selected")}})),m(this._document.documentElement).forEach((function(e){var t=(e.nodeName||"").toLowerCase();if(t&&!t.startsWith("#")&&e!==n._document.head&&e!==n._document.body){var i,o=n._document.createComment("un-es-replace:".concat(encodeURIComponent(e.outerHTML)));null===(i=e.parentNode)||void 0===i||i.replaceChild(o,e)}}));for(var o=this._document.querySelectorAll("head > un-es-replace"),s=o.length-1;s>=0;s-=1){var r=o[s],a=this._document.createElement("script");a.setAttribute("type","text/un-es-replace"),a.innerHTML=encodeURIComponent(r.outerHTML),this._document.head.replaceChild(a,r)}for(var l=this._document.head?m(this._document.head):[],u=l.length-1;u>=0;u-=1)if("#text"===(l[u].nodeName||"")&&""!==(l[u].nodeValue||"").trim()){var h,f=this._document.createElement("script");f.setAttribute("type","text/un-es-replace"),f.innerHTML=encodeURIComponent(null!==(h=l[u].nodeValue)&&void 0!==h?h:""),this._document.head.replaceChild(f,l[u])}var p=document.doctype;null!=p&&p.name&&(this._docType="<!DOCTYPE ".concat(p.name).concat(p.publicId?' PUBLIC "'.concat(p.publicId,'"'):"").concat(!p.publicId&&p.systemId?" SYSTEM":"").concat(p.systemId?' "'.concat(p.systemId,'"'):"",">"))}return t=e,f=[{key:"run",value:function(){return u.open(),u.close(),new e(u).html}}],(h=[{key:"html",get:function(){return this._docType+this._document.documentElement.outerHTML}},{key:"_importElmsInPseudoState",value:function(e){var t=this;d.forEach((function(n){var i=Array.from(e.querySelectorAll("*:".concat(n))||[]);i.length&&(t._elmsInPseudoState[n]=t._elmsInPseudoState[n].concat(i))}))}},{key:"_importNode",value:function(e,t){var n=this;if(e){var c=(e.nodeName||"").toLocaleLowerCase();if(c){var u=!this._insideHead,h=!this._insideParagraph,f=!this._insideMalformedSelect,p=!this._insideDescriptionItem,_=!this._insideButton,v=!this._insideMalformedIODescendant,y=!this._insideSVG,E=c,b=null,S=!1,g=null;if(e instanceof ShadowRoot)g=this._document.createElement("un-shadow-elm"),this._importElmsInPseudoState(e);else if(e.nodeType===Node.TEXT_NODE){var T;g=this._document.createTextNode(null!==(T=e.nodeValue)&&void 0!==T?T:"")}else if(e.nodeType===Node.CDATA_SECTION_NODE){var I;g=(new DOMParser).parseFromString("<xml></xml>","application/xml").createCDATASection(null!==(I=e.nodeValue)&&void 0!==I?I:"")}else if(e.nodeType===Node.PROCESSING_INSTRUCTION_NODE){var M=e;g=this._document.createProcessingInstruction(M.target,M.data)}else if(e.nodeType===Node.COMMENT_NODE){var A,C,N=(t.nodeName||"").toLowerCase();if("un-es-replace"===N&&(N=null!==(C=t.getAttribute("un-nodename"))&&void 0!==C?C:""),"style"===N)return;g=this._document.createComment(null!==(A=e.nodeValue)&&void 0!==A?A:"")}else{var L,H=(t.nodeName||"").toLowerCase();if("un-es-replace"===H&&(H=null!==(L=t.getAttribute("un-nodename"))&&void 0!==L?L:""),(S=void 0!==this._nestedElmsCounts[c])&&(this._nestedElmsCounts[c]+=1,this._nestedElmsCounts[c]>1&&(b=c,c="un-es-replace")),"un-es-replace"!==c){var D=function(t){var n=[];try{n=Array.from(e.querySelectorAll(t))}catch(e){n=[]}return n},P=this._insideParagraph||this._insideButton;if("html"===c&&e!==document.documentElement||"head"===c&&e!==document.head||"body"===c&&e!==document.body)b=c,c="un-es-replace";else if("script"===c||"style"===c)if(e.childNodes.length>1||D("*").length>0)b=c,c="un-es-replace";else if((e.textContent||"").includes("</".concat(c,">")))b=c,c="un-es-replace";else{var w,O=this._document.createElement("div");O.innerHTML=null!==(w=e.textContent)&&void 0!==w?w:"",(O.childNodes.length>1||O.querySelectorAll("*").length)&&(b=c,c="un-es-replace")}else"image"===c||this._insideHead&&!i.includes(c)||(s.includes(c)||o.includes(c))&&D("*").length>0?(b=c,c="un-es-replace"):this._insideMalformedSelect||"select"===c&&D("*:not(option):not(optgroup)").length>0?(b=c,c="un-es-replace",this._insideMalformedSelect=!0):this._insideMalformedIODescendant||P&&(r.includes(c)||a.includes(c))?(b=c,c="un-es-replace",this._insideMalformedIODescendant=!0):a.includes(c)||"li"===c&&"ul"!==H&&"ol"!==H?(b=c,c="un-es-replace"):!this._insideDescriptionItem||"dd"!==c&&"dt"!==c?this._insideButton&&"button"===c||e instanceof HTMLTemplateElement?(b=c,c="un-es-replace"):!this._insideSVG||e instanceof SVGElement||(b=c,c="un-es-replace"):(b=c,c="un-es-replace")}e===document.head?this._insideHead=!0:"p"===c?this._insideParagraph=!0:"dd"===c||"dt"===c?this._insideDescriptionItem=!0:"dl"===c?this._insideDescriptionItem=!1:"button"===c?this._insideButton=!0:"svg"===c&&(this._insideSVG=!0);try{g=this._document.createElement(c),b&&(E=b)}catch(e){try{var k=this._document.createElement("div");k.innerHTML="<".concat(c,"></").concat(c,">"),k.firstChild&&(g=k.firstChild)}catch(e){g=null}}if(null!==g&&g instanceof Element){b&&g.setAttribute("un-nodename",E);for(var x=Array.from(e.attributes),V=x.length,R=0;R<V;R+=1){var B=x[R];try{g.setAttribute(B.name,B.value)}catch(e){}}if((e instanceof HTMLMediaElement||e instanceof HTMLImageElement)&&e.currentSrc)g.setAttribute("un-curr-src",e.currentSrc);else if(e instanceof HTMLIFrameElement&&!e.getAttribute("un-framename"))g.setAttribute("un-framename","");else if(e instanceof HTMLDialogElement&&e.getAttribute("un-show-modal"))g.removeAttribute("open");else if(e instanceof HTMLInputElement)"radio"===e.type||"checkbox"===e.type?e.checked?g.setAttribute("checked","checked"):g.removeAttribute("checked"):g.setAttribute("value",e.value);else if(e instanceof HTMLTextAreaElement)g.innerHTML=e.value;else if(e instanceof HTMLSelectElement)this._selectElmsMap.set(e,g);else if(e instanceof HTMLCanvasElement)try{var G=e.toDataURL();g.setAttribute("un-data-url",G)}catch(e){}e===this._activeElement&&g.setAttribute("un-active-elm","true");var q=[];d.forEach((function(t){n._elmsInPseudoState[t].includes(e)&&q.push(l[t])})),q.length&&g.setAttribute("un-pseudos",q.join(""))}}if(g){t.appendChild(g);var j=!1;if("style"===E){var U=e.sheet;if(U){var F="";Array.from(U.cssRules).forEach((function(e){F+=e.cssText})),g.innerHTML=F,j=!0}}if(!j)for(var Y=m(e),Q=Y.length,W=0;W<Q;W+=1){var X=Y[W];this._importNode(X,g)}u&&this._insideHead?this._insideHead=!1:S?this._nestedElmsCounts[E]-=1:f&&this._insideMalformedSelect?this._insideMalformedSelect=!1:v&&this._insideMalformedIODescendant?this._insideMalformedIODescendant=!1:h&&this._insideParagraph?this._insideParagraph=!1:p&&this._insideDescriptionItem?this._insideDescriptionItem=!1:_&&this._insideButton?this._insideButton=!1:y&&this._insideSVG&&(this._insideSVG=!1)}}}}}])&&n(t.prototype,h),f&&n(t,f),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,h,f}();window._AQAExt_={Snapshotter:h}})();
//# sourceMappingURL=snapshotter.bundle.js.map